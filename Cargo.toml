[workspace]
resolver = "2"
members = [
    ".",
    "geekorm-core",
    "geekorm-derive",
    "geekorm-cli",
    "examples/users",
    "examples/foreignkeys",
    "examples/turso-libsql",
]

[workspace.package]
version = "0.1.0"
license = "MIT"
edition = "2021"
rust-version = "1.74"
keywords = ["database", "orm", "sqlite"]
categories = ["database"]
# repository = 
authors = ["GeekMasher"]


[package]
name = "geekorm"
readme = "README.md"
documentation = "https://docs.rs/geekorm"
description = "A simple and easy to use ORM for SQLite databases"
version.workspace = true
license.workspace = true
edition.workspace = true
authors.workspace = true


[package.metadata.release]
shared-version = true

[features]
default = ["uuid", "chrono"]

uuid = ["geekorm-derive/uuid"]
chrono = ["geekorm-derive/chrono"]

# Generate new functions for Tables
new = ["geekorm-derive/new"]
# Generate primary key functions for Tables automatically
primary_key = ["geekorm-derive/primary_key"]
# Backends for the ORM
libsql = ["dep:libsql"]

[dependencies]
geekorm-core = { version = "^0.1.0", path = "geekorm-core" }
geekorm-derive = { version = "^0.1.0", path = "geekorm-derive" }
libsql = { version = "0.3.2", optional = true }

[dev-dependencies]
anyhow = "1"
libsql = "0.3.2"
tokio = { version = "1.36.0", features = ["full"] }

[[test]]
name = "geekorm-example-users"
path = "./examples/users/src/main.rs"

[[test]]
name = "geekorm-example-foreignkeys"
path = "./examples/foreignkeys/src/main.rs"

[[test]]
name = "geekorm-example-turso-libsql"
path = "./examples/turso-libsql/src/main.rs"
